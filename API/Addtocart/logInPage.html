<form onsubmit="userlogin(event)">
    Username: <input type="text" id="name">
    Password: <input type="password" id="pass">
    <input type="submit">
</form>

<script>
    var users = JSON.parse(localStorage.getItem('users'));
    async function userlogin(e) {
        e.preventDefault();
        var name = document.getElementById('name').value;
        var pass = document.getElementById('pass').value;

        const credentials = { name, pass };
        if (users == undefined) {
            users = [];
        }
        else {
            users.push(credentials);
        }


        localStorage.setItem('users', JSON.stringify(users));
        var string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        var token = [];

        for (var i = 0; i <= 60; i++) {
            var no = Math.round(Math.random() * 62);
            token.push(string[no]);
        }

        localStorage.setItem('token', JSON.stringify(token.toString().replaceAll(',', '')));
    }
</script>